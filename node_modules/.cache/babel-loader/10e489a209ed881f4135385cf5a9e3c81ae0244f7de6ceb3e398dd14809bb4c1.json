{"ast":null,"code":"var _jsxFileName = \"/workspaces/locality-connect-frontend/src/components/SuggestionCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { voteAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SuggestionCard = ({\n  suggestion,\n  onVoteUpdate,\n  showActions = true\n}) => {\n  _s();\n  const [voting, setVoting] = useState(false);\n  const [userVote, setUserVote] = useState(null);\n  const handleVote = async voteType => {\n    if (voting) return;\n    setVoting(true);\n    try {\n      await voteAPI.cast({\n        suggestionId: suggestion.id,\n        voteType: voteType\n      });\n\n      // Toggle vote if same type, otherwise switch\n      if (userVote === voteType) {\n        setUserVote(null);\n      } else {\n        setUserVote(voteType);\n      }\n      if (onVoteUpdate) {\n        onVoteUpdate();\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error voting:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to vote');\n    } finally {\n      setVoting(false);\n    }\n  };\n  const getStatusBadge = status => {\n    const statusClasses = {\n      NEW: 'badge-new',\n      VALID: 'badge-valid',\n      INVALID: 'badge-invalid',\n      LATER: 'badge-later',\n      IN_DISCUSSION: 'badge-discussion'\n    };\n    return `badge ${statusClasses[status] || 'badge-new'}`;\n  };\n  const getCategoryBadge = category => {\n    return `badge ${category === 'SUGGESTION' ? 'badge-suggestion' : 'badge-complaint'}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"suggestion-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestion-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"suggestion-title\",\n          children: suggestion.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestion-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: getCategoryBadge(suggestion.category),\n            children: suggestion.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: getStatusBadge(suggestion.status),\n            children: suggestion.status.replace('_', ' ')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), suggestion.userPriority && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"priority-badge\",\n            children: [\"Priority: \", suggestion.userPriority]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), suggestion.calculatedPriority && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"priority-badge\",\n            children: [\"System Priority: \", suggestion.calculatedPriority]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestion-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"By: \", suggestion.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: new Date(suggestion.createdAt).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: suggestion.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), showActions && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vote-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `vote-btn ${userVote === 'LIKE' ? 'active-like' : ''}`,\n        onClick: () => handleVote('LIKE'),\n        disabled: voting,\n        children: [\"\\uD83D\\uDC4D Like (\", suggestion.likeCount, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `vote-btn ${userVote === 'DISLIKE' ? 'active-dislike' : ''}`,\n        onClick: () => handleVote('DISLIKE'),\n        disabled: voting,\n        children: [\"\\uD83D\\uDC4E Dislike (\", suggestion.dislikeCount, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(SuggestionCard, \"WJZ4PCfcrj/w2Lu8EVboKAYWW8I=\");\n_c = SuggestionCard;\nexport default SuggestionCard;\nvar _c;\n$RefreshReg$(_c, \"SuggestionCard\");","map":{"version":3,"names":["React","useState","voteAPI","jsxDEV","_jsxDEV","SuggestionCard","suggestion","onVoteUpdate","showActions","_s","voting","setVoting","userVote","setUserVote","handleVote","voteType","cast","suggestionId","id","error","_error$response","_error$response$data","console","alert","response","data","message","getStatusBadge","status","statusClasses","NEW","VALID","INVALID","LATER","IN_DISCUSSION","getCategoryBadge","category","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","replace","userPriority","calculatedPriority","username","Date","createdAt","toLocaleDateString","description","onClick","disabled","likeCount","dislikeCount","_c","$RefreshReg$"],"sources":["/workspaces/locality-connect-frontend/src/components/SuggestionCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { voteAPI } from '../services/api';\n\nconst SuggestionCard = ({ suggestion, onVoteUpdate, showActions = true }) => {\n  const [voting, setVoting] = useState(false);\n  const [userVote, setUserVote] = useState(null);\n\n  const handleVote = async (voteType) => {\n    if (voting) return;\n    \n    setVoting(true);\n    try {\n      await voteAPI.cast({\n        suggestionId: suggestion.id,\n        voteType: voteType,\n      });\n      \n      // Toggle vote if same type, otherwise switch\n      if (userVote === voteType) {\n        setUserVote(null);\n      } else {\n        setUserVote(voteType);\n      }\n      \n      if (onVoteUpdate) {\n        onVoteUpdate();\n      }\n    } catch (error) {\n      console.error('Error voting:', error);\n      alert(error.response?.data?.message || 'Failed to vote');\n    } finally {\n      setVoting(false);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusClasses = {\n      NEW: 'badge-new',\n      VALID: 'badge-valid',\n      INVALID: 'badge-invalid',\n      LATER: 'badge-later',\n      IN_DISCUSSION: 'badge-discussion',\n    };\n    return `badge ${statusClasses[status] || 'badge-new'}`;\n  };\n\n  const getCategoryBadge = (category) => {\n    return `badge ${category === 'SUGGESTION' ? 'badge-suggestion' : 'badge-complaint'}`;\n  };\n\n  return (\n    <div className=\"suggestion-card\">\n      <div className=\"suggestion-header\">\n        <div>\n          <h3 className=\"suggestion-title\">{suggestion.title}</h3>\n          <div className=\"suggestion-meta\">\n            <span className={getCategoryBadge(suggestion.category)}>\n              {suggestion.category}\n            </span>\n            <span className={getStatusBadge(suggestion.status)}>\n              {suggestion.status.replace('_', ' ')}\n            </span>\n            {suggestion.userPriority && (\n              <span className=\"priority-badge\">\n                Priority: {suggestion.userPriority}\n              </span>\n            )}\n            {suggestion.calculatedPriority && (\n              <span className=\"priority-badge\">\n                System Priority: {suggestion.calculatedPriority}\n              </span>\n            )}\n          </div>\n          <div className=\"suggestion-meta\">\n            <span>By: {suggestion.username}</span>\n            <span>\n              {new Date(suggestion.createdAt).toLocaleDateString()}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"card-body\">\n        <p>{suggestion.description}</p>\n      </div>\n\n      {showActions && (\n        <div className=\"vote-section\">\n          <button\n            className={`vote-btn ${userVote === 'LIKE' ? 'active-like' : ''}`}\n            onClick={() => handleVote('LIKE')}\n            disabled={voting}\n          >\n            üëç Like ({suggestion.likeCount})\n          </button>\n          <button\n            className={`vote-btn ${userVote === 'DISLIKE' ? 'active-dislike' : ''}`}\n            onClick={() => handleVote('DISLIKE')}\n            disabled={voting}\n          >\n            üëé Dislike ({suggestion.dislikeCount})\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SuggestionCard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,OAAO,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,cAAc,GAAGA,CAAC;EAAEC,UAAU;EAAEC,YAAY;EAAEC,WAAW,GAAG;AAAK,CAAC,KAAK;EAAAC,EAAA;EAC3E,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAE9C,MAAMa,UAAU,GAAG,MAAOC,QAAQ,IAAK;IACrC,IAAIL,MAAM,EAAE;IAEZC,SAAS,CAAC,IAAI,CAAC;IACf,IAAI;MACF,MAAMT,OAAO,CAACc,IAAI,CAAC;QACjBC,YAAY,EAAEX,UAAU,CAACY,EAAE;QAC3BH,QAAQ,EAAEA;MACZ,CAAC,CAAC;;MAEF;MACA,IAAIH,QAAQ,KAAKG,QAAQ,EAAE;QACzBF,WAAW,CAAC,IAAI,CAAC;MACnB,CAAC,MAAM;QACLA,WAAW,CAACE,QAAQ,CAAC;MACvB;MAEA,IAAIR,YAAY,EAAE;QAChBA,YAAY,CAAC,CAAC;MAChB;IACF,CAAC,CAAC,OAAOY,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACdC,OAAO,CAACH,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCI,KAAK,CAAC,EAAAH,eAAA,GAAAD,KAAK,CAACK,QAAQ,cAAAJ,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBK,IAAI,cAAAJ,oBAAA,uBAApBA,oBAAA,CAAsBK,OAAO,KAAI,gBAAgB,CAAC;IAC1D,CAAC,SAAS;MACRf,SAAS,CAAC,KAAK,CAAC;IAClB;EACF,CAAC;EAED,MAAMgB,cAAc,GAAIC,MAAM,IAAK;IACjC,MAAMC,aAAa,GAAG;MACpBC,GAAG,EAAE,WAAW;MAChBC,KAAK,EAAE,aAAa;MACpBC,OAAO,EAAE,eAAe;MACxBC,KAAK,EAAE,aAAa;MACpBC,aAAa,EAAE;IACjB,CAAC;IACD,OAAO,SAASL,aAAa,CAACD,MAAM,CAAC,IAAI,WAAW,EAAE;EACxD,CAAC;EAED,MAAMO,gBAAgB,GAAIC,QAAQ,IAAK;IACrC,OAAO,SAASA,QAAQ,KAAK,YAAY,GAAG,kBAAkB,GAAG,iBAAiB,EAAE;EACtF,CAAC;EAED,oBACEhC,OAAA;IAAKiC,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9BlC,OAAA;MAAKiC,SAAS,EAAC,mBAAmB;MAAAC,QAAA,eAChClC,OAAA;QAAAkC,QAAA,gBACElC,OAAA;UAAIiC,SAAS,EAAC,kBAAkB;UAAAC,QAAA,EAAEhC,UAAU,CAACiC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxDvC,OAAA;UAAKiC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BlC,OAAA;YAAMiC,SAAS,EAAEF,gBAAgB,CAAC7B,UAAU,CAAC8B,QAAQ,CAAE;YAAAE,QAAA,EACpDhC,UAAU,CAAC8B;UAAQ;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChB,CAAC,eACPvC,OAAA;YAAMiC,SAAS,EAAEV,cAAc,CAACrB,UAAU,CAACsB,MAAM,CAAE;YAAAU,QAAA,EAChDhC,UAAU,CAACsB,MAAM,CAACgB,OAAO,CAAC,GAAG,EAAE,GAAG;UAAC;YAAAJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChC,CAAC,EACNrC,UAAU,CAACuC,YAAY,iBACtBzC,OAAA;YAAMiC,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAAC,YACrB,EAAChC,UAAU,CAACuC,YAAY;UAAA;YAAAL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9B,CACP,EACArC,UAAU,CAACwC,kBAAkB,iBAC5B1C,OAAA;YAAMiC,SAAS,EAAC,gBAAgB;YAAAC,QAAA,GAAC,mBACd,EAAChC,UAAU,CAACwC,kBAAkB;UAAA;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3C,CACP;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eACNvC,OAAA;UAAKiC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BlC,OAAA;YAAAkC,QAAA,GAAM,MAAI,EAAChC,UAAU,CAACyC,QAAQ;UAAA;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACtCvC,OAAA;YAAAkC,QAAA,EACG,IAAIU,IAAI,CAAC1C,UAAU,CAAC2C,SAAS,CAAC,CAACC,kBAAkB,CAAC;UAAC;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAENvC,OAAA;MAAKiC,SAAS,EAAC,WAAW;MAAAC,QAAA,eACxBlC,OAAA;QAAAkC,QAAA,EAAIhC,UAAU,CAAC6C;MAAW;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,EAELnC,WAAW,iBACVJ,OAAA;MAAKiC,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BlC,OAAA;QACEiC,SAAS,EAAE,YAAYzB,QAAQ,KAAK,MAAM,GAAG,aAAa,GAAG,EAAE,EAAG;QAClEwC,OAAO,EAAEA,CAAA,KAAMtC,UAAU,CAAC,MAAM,CAAE;QAClCuC,QAAQ,EAAE3C,MAAO;QAAA4B,QAAA,GAClB,qBACU,EAAChC,UAAU,CAACgD,SAAS,EAAC,GACjC;MAAA;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACTvC,OAAA;QACEiC,SAAS,EAAE,YAAYzB,QAAQ,KAAK,SAAS,GAAG,gBAAgB,GAAG,EAAE,EAAG;QACxEwC,OAAO,EAAEA,CAAA,KAAMtC,UAAU,CAAC,SAAS,CAAE;QACrCuC,QAAQ,EAAE3C,MAAO;QAAA4B,QAAA,GAClB,wBACa,EAAChC,UAAU,CAACiD,YAAY,EAAC,GACvC;MAAA;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAClC,EAAA,CAvGIJ,cAAc;AAAAmD,EAAA,GAAdnD,cAAc;AAyGpB,eAAeA,cAAc;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}